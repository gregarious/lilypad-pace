<form name="analyze" class="clearfix">
    <select ng-init="analyzeView = views[0]" ng-model="analyzeView" ng-options="v.name for v in views"></select>

    <span ng-hide="analyzeView != views[0]" class="treatmentPeriodPicker">

        <span><label>
          <p>&nbsp;</p>
          <select ng-model="startTX" value="1">
            <option
              ng-repeat = "treatmentPeriod in treatmentPeriods.models"
              ng-value = "$index + 1" >
              TX {{treatmentPeriod.attributes.id}} - {{treatmentPeriod.attributes.dateEnd | date: 'M/d'}}
            </option>
          </select>
        </label></span>

        <span><label>
          <p>&nbsp;</p>
          <select ng-model="duration">
            <!-- TODO: MAKE THIS WORK BACKWARDS -->
            <option ng-show="startTX"
              ng-repeat = "i in range(treatmentPeriods.length - startTX + 1) track by $index"
              ng-value = "$index + 1" >
              View {{$index + 1}} TX
            </option>
          </select>
          <br>
        </label></span>

    </span>
</form>
<div class="divider clear"></div>
<div ng-include="analyzeView.url" ></div>
