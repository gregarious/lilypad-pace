<!DOCTYPE html>
<html ng-app="pace">
<head>
    <title>Lilypad</title>

    <!-- For that native webapp experience -->
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"/>

    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black"/>

    <link rel="apple-touch-icon" href="images/icon.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="images/icon-72.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="images/icon@2x.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="images/icon-72@2x.png" />

    <!-- stylesheets -->
<!--    <link rel="stylesheet" href="styles/reset.css">
    <link rel="stylesheet" href="styles/aller/aller.css">
    <link rel="stylesheet" href="styles/app.css">
    <link rel="stylesheet" href="styles/widgets.css">
 -->
    <!-- angular -->
    <script src="lib/angular.js"></script>
    <script src="lib/angular-touch.js"></script>

    <!-- third-party packages -->
    <script src="lib/underscore.js"></script>
    <script src="lib/backbone.js"></script>
    <script src="lib/backbone-relational.js"></script>
    <script src="lib/moment.js"></script>

    <!-- modules -->
    <script src="modules/underscore.js"></script>
    <script src="modules/backbone.js"></script>
    <script src="modules/moment.js"></script>
    <script src="modules/widgets.js"></script>
    <script src="modules/mixpanel.js"></script>

    <!-- app -->
    <script src="app.js"></script>

    <!-- models -->
    <script src="app/models/classroom.js"></script>
    <script src="app/models/student.js"></script>
    <script src="app/models/attendanceSpan.js"></script>
    <script src="app/models/periodicRecord.js"></script>
    <script src="app/models/pointLoss.js"></script>
    <script src="app/models/behaviorIncident.js"></script>
    <script src="app/models/behaviorIncidentType.js"></script>
    <script src="app/models/loggableMixin.js"></script>

    <!-- model services -->
    <script src="app/services/todayDataManager.js"></script>

    <!-- common services -->
    <script src="app/services/sessionManager.js"></script>
    <script src="app/services/apiConfig.js"></script>
    <script src="app/services/timeTracker.js"></script>


    <!-- http interceptors -->
    <script src="app/services/jsonCaseTransformer.js"></script>
    <script src="app/services/requestAuthInjector.js"></script>

    <!-- Run app config after all providers are registered -->
    <script src="config.js"></script>

    <script src="devmain.js"></script>

</head>
<body>
<div ng-controller="devCtrl">
    <div><em>{{status}}</em></div>
    <ul>
        <li ng-repeat="classroom in classrooms">
            <a href="" ng-click="loadClassroom(classroom)">{{classroom.get('name')}}</a>
        </li>
    </ul>
    <div ng-show="classroom">
        <h1>Classroom: {{classroom.get('name')}}</h1>
        <div ng-show="todayRecord">
            <ul>
                <li>{{todayRecord.date}}</li>
                <li>{{todayRecord.currentPeriod}}</li>
                <button ng-show="todayRecord && todayRecord.currentPeriod === null" ng-click="startDailyRecord()">Start this day</button>
                <button ng-show="todayRecord.currentPeriod" ng-click="loadStudentData()">Load student data</button>
            </ul>
        </div>
        <h2>Students ({{students.length}})</h2>
        <ul>
            <li ng-repeat="student in students.models">{{student.get('firstName')}}: {{student.get('todayData').attendanceSpans.length}} / {{student.get('todayData').behaviorIncidents.length}} / {{student.get('todayData').periodicRecords.length}}</li>
        </ul>
    </div>
</div>

<script>
    // For development purposes. Simply call `_injector.get('serviceName')` to get a service instance.
    angular.module('pace').run(function ($injector) {
        window._injector = $injector;
    });
</script>

</body>
</html>
