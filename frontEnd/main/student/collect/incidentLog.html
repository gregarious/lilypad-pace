
<div class="clearfix">
    <div class="buttonGroup">
        <!-- TODO: Fix this janky buttons; card #78 -->
        <!-- TODO: implement editing of existing incidents; card #74 -->
        <button class="edit" ng-click="$parent.showSettings()">Add Incident</button>
        <button class="newIncident">Edit Incident</button>
    </div>
</div>
<!-- TODO: Display message for empty behaviorLog; card #75-->
<div id="behaviorIncidentsTable">
    <table class="log">
        <tr>
            <th>Time</th>
            <th>Incident</th>
            <th>Duration</th>
            <th>Comment {{behaviorModalActive}}</th>
        </tr>
        <tr ng-repeat="logEntry in incidentLogCollection.models">
            <td>{{logEntry.getOccurredAt() | date: 'h:mm a'}}</td>
            <td>{{logEntry.getLabel()}}</td>
            <!-- TODO: Fix duration -->
            <td>{{logEntry.getDuration() | duration}}</td>
            <!-- TODO: Truncate comments so they don't screw up the table -->
            <td>{{logEntry.getComment()}}</td>
        </tr>
    </table>
    <div class="noData" ng-hide="incidentLogCollection.models.length > 0">No incidents yet logged</div>
</div>

<main-modal active="behaviorModalActive">
    <ng-include src="'/lilypad-client/lilypad-pace/frontend/partials/behaviorSettings.html'" ng-controller="MainStudentCollectIncidentLogCtrl"></ng-include>
</main-modal>